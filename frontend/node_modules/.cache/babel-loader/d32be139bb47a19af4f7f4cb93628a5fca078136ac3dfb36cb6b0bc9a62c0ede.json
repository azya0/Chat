{"ast":null,"code":"import config from \"../config\";\nclass WebsocketController {\n  constructor() {\n    this.connect = user_id => {\n      this.current = new WebSocket(`${config.ws_url}`);\n    };\n    this.disconnect = () => {\n      if (this.current !== null) {\n        this.current.close();\n        this.current = null;\n      }\n    };\n    this.send = message => {\n      if (this.current === null) return;\n      this.current.send(message);\n    };\n    this.current = null;\n  }\n}\nlet connection = new WebsocketController();\nexport default connection;","map":{"version":3,"names":["config","WebsocketController","constructor","connect","user_id","current","WebSocket","ws_url","disconnect","close","send","message","connection"],"sources":["C:/Users/Азя/Desktop/chat/frontend/src/controllers/websocketController.js"],"sourcesContent":["import config from \"../config\";\r\n\r\n\r\nclass WebsocketController {\r\n    constructor() {\r\n        this.current = null;\r\n    }\r\n\r\n    connect = (user_id) => {\r\n        this.current = new WebSocket(`${config.ws_url}`);\r\n    }\r\n\r\n    disconnect = () => {\r\n        if (this.current !== null) {\r\n            this.current.close()\r\n            this.current = null;\r\n        }\r\n    }\r\n\r\n    send = (message) => {\r\n        if (this.current === null)\r\n            return;\r\n\r\n        this.current.send(message);\r\n    }\r\n}\r\n\r\nlet connection = new WebsocketController();\r\n\r\nexport default connection;\r\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;AAG9B,MAAMC,mBAAmB,CAAC;EACtBC,WAAWA,CAAA,EAAG;IAAA,KAIdC,OAAO,GAAIC,OAAO,IAAK;MACnB,IAAI,CAACC,OAAO,GAAG,IAAIC,SAAS,CAAE,GAAEN,MAAM,CAACO,MAAO,EAAC,CAAC;IACpD,CAAC;IAAA,KAEDC,UAAU,GAAG,MAAM;MACf,IAAI,IAAI,CAACH,OAAO,KAAK,IAAI,EAAE;QACvB,IAAI,CAACA,OAAO,CAACI,KAAK,CAAC,CAAC;QACpB,IAAI,CAACJ,OAAO,GAAG,IAAI;MACvB;IACJ,CAAC;IAAA,KAEDK,IAAI,GAAIC,OAAO,IAAK;MAChB,IAAI,IAAI,CAACN,OAAO,KAAK,IAAI,EACrB;MAEJ,IAAI,CAACA,OAAO,CAACK,IAAI,CAACC,OAAO,CAAC;IAC9B,CAAC;IAnBG,IAAI,CAACN,OAAO,GAAG,IAAI;EACvB;AAmBJ;AAEA,IAAIO,UAAU,GAAG,IAAIX,mBAAmB,CAAC,CAAC;AAE1C,eAAeW,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}