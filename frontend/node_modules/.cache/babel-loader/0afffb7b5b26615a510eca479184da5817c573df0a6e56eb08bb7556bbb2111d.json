{"ast":null,"code":"import _createClass from\"C:/Users/\\u0410\\u0437\\u044F/Desktop/chat/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"C:/Users/\\u0410\\u0437\\u044F/Desktop/chat/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import config from\"../config\";var WebsocketController=/*#__PURE__*/_createClass(function WebsocketController(){var _this=this;_classCallCheck(this,WebsocketController);this.exist=function(){return _this.current!==null;};this.connect=function(){_this.current=new WebSocket(\"\".concat(config.ws_url,\"/connect\"));};this.disconnect=function(){if(_this.current!==null){_this.current.close();_this.current=null;}};this.send=function(user_id,message){if(_this.current===null)return;_this.current.send(\"\".concat(user_id,\":\").concat(message));};this.onmessage=function(_function){if(_this.current!==null)_this.current.onmessage=_function;};this.current=null;});var connection=new WebsocketController();export default connection;","map":{"version":3,"names":["config","WebsocketController","_createClass","_this","_classCallCheck","exist","current","connect","WebSocket","concat","ws_url","disconnect","close","send","user_id","message","onmessage","_function","connection"],"sources":["C:/Users/Азя/Desktop/chat/frontend/src/controllers/websocketController.js"],"sourcesContent":["import config from \"../config\";\r\n\r\n\r\nclass WebsocketController {\r\n    constructor() {\r\n        this.current = null;\r\n    }\r\n\r\n    exist = () => {\r\n        return this.current !== null;\r\n    }\r\n\r\n    connect = () => {\r\n        this.current = new WebSocket(`${config.ws_url}/connect`);\r\n    }\r\n\r\n    disconnect = () => {\r\n        if (this.current !== null) {\r\n            this.current.close()\r\n            this.current = null;\r\n        }\r\n    }\r\n\r\n    send = (user_id, message) => {\r\n        if (this.current === null)\r\n            return;\r\n\r\n        this.current.send(`${user_id}:${message}`);\r\n    }\r\n\r\n    onmessage = (_function) => {\r\n        if (this.current !== null)\r\n            this.current.onmessage = _function;\r\n    }\r\n}\r\n\r\nlet connection = new WebsocketController();\r\n\r\nexport default connection;\r\n"],"mappings":"4QAAA,MAAO,CAAAA,MAAM,KAAM,WAAW,CAAC,GAGzB,CAAAC,mBAAmB,cAAAC,YAAA,CACrB,SAAAD,oBAAA,CAAc,KAAAE,KAAA,MAAAC,eAAA,MAAAH,mBAAA,OAIdI,KAAK,CAAG,UAAM,CACV,MAAO,CAAAF,KAAI,CAACG,OAAO,GAAK,IAAI,CAChC,CAAC,MAEDC,OAAO,CAAG,UAAM,CACZJ,KAAI,CAACG,OAAO,CAAG,GAAI,CAAAE,SAAS,IAAAC,MAAA,CAAIT,MAAM,CAACU,MAAM,YAAU,CAAC,CAC5D,CAAC,MAEDC,UAAU,CAAG,UAAM,CACf,GAAIR,KAAI,CAACG,OAAO,GAAK,IAAI,CAAE,CACvBH,KAAI,CAACG,OAAO,CAACM,KAAK,CAAC,CAAC,CACpBT,KAAI,CAACG,OAAO,CAAG,IAAI,CACvB,CACJ,CAAC,MAEDO,IAAI,CAAG,SAACC,OAAO,CAAEC,OAAO,CAAK,CACzB,GAAIZ,KAAI,CAACG,OAAO,GAAK,IAAI,CACrB,OAEJH,KAAI,CAACG,OAAO,CAACO,IAAI,IAAAJ,MAAA,CAAIK,OAAO,MAAAL,MAAA,CAAIM,OAAO,CAAE,CAAC,CAC9C,CAAC,MAEDC,SAAS,CAAG,SAACC,SAAS,CAAK,CACvB,GAAId,KAAI,CAACG,OAAO,GAAK,IAAI,CACrBH,KAAI,CAACG,OAAO,CAACU,SAAS,CAAGC,SAAS,CAC1C,CAAC,CA5BG,IAAI,CAACX,OAAO,CAAG,IAAI,CACvB,CAAC,EA8BL,GAAI,CAAAY,UAAU,CAAG,GAAI,CAAAjB,mBAAmB,CAAC,CAAC,CAE1C,cAAe,CAAAiB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}