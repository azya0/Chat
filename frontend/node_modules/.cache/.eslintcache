[{"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\index.js":"1","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\App.js":"2","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Registration.js":"3","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Authorization.js":"4","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Main.js":"5","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\controllers\\UserController.js":"6","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\index.js":"7","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\App.js":"8","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Authorization.js":"9","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Registration.js":"10","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Main.js":"11","C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\controllers\\UserController.js":"12"},{"size":286,"mtime":1687043787253,"results":"13","hashOfConfig":"14"},{"size":498,"mtime":1687395133899,"results":"15","hashOfConfig":"14"},{"size":1668,"mtime":1687395414246,"results":"16","hashOfConfig":"14"},{"size":911,"mtime":1687395414255,"results":"17","hashOfConfig":"14"},{"size":2598,"mtime":1687527074577,"results":"18","hashOfConfig":"14"},{"size":1633,"mtime":1687486744362,"results":"19","hashOfConfig":"14"},{"size":286,"mtime":1687043787253,"results":"20","hashOfConfig":"21"},{"size":498,"mtime":1687395133899,"results":"22","hashOfConfig":"21"},{"size":911,"mtime":1687395414255,"results":"23","hashOfConfig":"21"},{"size":1668,"mtime":1687395414246,"results":"24","hashOfConfig":"21"},{"size":2598,"mtime":1687527074577,"results":"25","hashOfConfig":"21"},{"size":1633,"mtime":1687486744362,"results":"26","hashOfConfig":"21"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1jlm7aj",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"134hlbg",{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\index.js",[],[],[],"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\App.js",[],[],"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Registration.js",[],[],"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Authorization.js",[],[],"C:\\Users\\Азя\\WebstormProjects\\chat\\src\\components\\Main.js",["65"],[],"import React, {useEffect, useState} from 'react';\r\nimport {Navigate} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport {auth_headers, clearCurrentUser, currentUser} from \"../controllers/UserController\";\r\nimport styles from '../css/index.module.css';\r\n\r\nfunction Chat({ data }) {\r\n    function FormatDate(data) {\r\n        const date = new Date(Date.parse(data));\r\n\r\n        let year = new Intl.DateTimeFormat('en', { year: '2-digit' }).format(date);\r\n        let month = new Intl.DateTimeFormat('en', { month: '2-digit' }).format(date);\r\n        let day = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(date);\r\n\r\n        return `${day}.${month}.${year}`;\r\n    }\r\n\r\n    function FormatTime(data) {\r\n        const date = new Date(Date.parse(data));\r\n\r\n        let hour = new Intl.DateTimeFormat('ru', {hour: 'numeric'}).format(date);\r\n        let minute = new Intl.DateTimeFormat('en', {minute: '2-digit'}).format(date);\r\n\r\n        return `${hour}:${minute}`;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.chat}>\r\n            <div>\r\n                <h4>{data[\"interlocutor\"].username}</h4>\r\n                <p>{FormatTime(data[\"last_message\"][\"created_at\"])}</p>\r\n            </div>\r\n            <p>{data[\"last_message\"].content}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Main() {\r\n    const [chats, setChats] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getChats() {\r\n            try {\r\n                const response = await axios.get('http://localhost:443/chat/all', auth_headers());\r\n\r\n                setChats(response.data.items);\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        if (chats.length === 0) {\r\n            getChats();\r\n        }\r\n    }, [chats.length]);\r\n\r\n    const user = currentUser();\r\n\r\n    return (user !== null) ? (\r\n        <>\r\n            <div className={styles.header}>\r\n                <div className={styles.welcome}>\r\n                    <h1>Welcome, {user.username}!</h1>\r\n                    <button type='button' onClick={() => {clearCurrentUser(); window.location.href = '/auth';}}>LogOut</button>\r\n                </div>\r\n                {/*<div className={styles.find}>*/}\r\n                {/*    <input/>*/}\r\n                {/*    <button type=\"button\">Find</button>*/}\r\n                {/*</div>*/}\r\n            </div>\r\n            <div className={styles.chatList}>\r\n                {chats.map((data, index) => <Chat key={index} data={data}/>)}\r\n            </div>\r\n        </>\r\n    ) : (<Navigate to=\"/auth\"/>);\r\n}\r\n\r\nexport default Main;","C:\\Users\\Азя\\WebstormProjects\\chat\\src\\controllers\\UserController.js",[],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\index.js",[],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\App.js",[],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Authorization.js",[],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Registration.js",[],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\components\\Main.js",["66"],[],"C:\\Users\\Азя\\Desktop\\chat\\frontend\\src\\controllers\\UserController.js",[],[],{"ruleId":"67","severity":1,"message":"68","line":9,"column":14,"nodeType":"69","messageId":"70","endLine":9,"endColumn":24},{"ruleId":"67","severity":1,"message":"68","line":9,"column":14,"nodeType":"69","messageId":"70","endLine":9,"endColumn":24},"no-unused-vars","'FormatDate' is defined but never used.","Identifier","unusedVar"]